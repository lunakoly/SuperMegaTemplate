\usepackage{graphicx}

\def\defaultgraphics{width=\textwidth}

\newtotcounter{totalfigurescounter}
\def\totalfigurescount{\total{totalfigurescounter}}

\newcommand{\figurefile}[2][\defaultgraphics]{%
    \centering\includegraphics[#1]{\pwd#2}%
    \stepcounter{totalfigurescounter}%
}

\newcommand{\fixedfigure}[3][\defaultgraphics]{%
    \begin{fixed}{figure}{#2}%
        \figurefile[#1]{#3}%
    \end{fixed}%
}

\newcommand{\floatingfigure}[3][\defaultgraphics]{%
    \begin{floating}{figure}{#2}%
        \figurefile[#1]{#3}%
    \end{floating}%
}
