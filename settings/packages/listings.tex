\usepackage[outputdir=output]{minted}

\setminted{
    breaklines = true,
    linenos,
    frame = single,
}

\newtotcounter{totallistingscounter}
\def\totallistingscount{\total{totallistingscounter}}

\newcommand{\codefile}[2]{%
    \inputminted{#1}{\pwd#2}%
    \stepcounter{totallistingscounter}%
}

\newcommand{\fixedlisting}[3]{%
    \begin{fixed}{listing}{#1}%
        \codefile{#2}{#3}%
    \end{fixed}%
}

\newcommand{\floatinglisting}[3]{%
    \begin{floating}{listing}{#1}%
        \codefile{#2}{#3}%
    \end{floating}%
}

% Fixes the listings numbering
\usepackage{chngcntr}
\counterwithin{listing}{chapter}
